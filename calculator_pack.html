<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Finance Calculators + Snake Game</title>
<meta name="description" content="Finance calculators including compound interest, mortgage, savings goal, retirement withdrawals, and a classic Snake game with gold coins.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; }
.navbar { position: fixed; top:0; left:0; width:100%; background:#2c3e50; color:white; display:flex; justify-content:space-around; padding:10px 0; z-index:1000; flex-wrap:wrap; }
.navbar a { color:white; text-decoration:none; padding:5px 10px; }
.navbar a:hover { background:#3498db; border-radius:4px; }
.container { display:flex; flex-wrap:wrap; margin-top:80px; max-width:1200px; gap:20px; padding:0 10px; justify-content:flex-start; }
.calculators { flex:1; min-width:500px; }
h1{text-align:center;margin-top:0;}
h2{margin-top:30px;color:#2c3e50;}
p{color:#555;}
label{display:block;margin-top:10px;}
input{width:100%;padding:5px;margin-top:2px;box-sizing:border-box;}
button{margin-top:10px;padding:8px;width:100%;border:none;border-radius:4px;background:#3498db;color:white;cursor:pointer;}
button:hover{background:#2980b9;}
.result{margin-top:10px;background:#f1f1f1;padding:10px;border-radius:5px;font-weight:bold;}

/* Snake */
.snake-container { width:400px; max-width:100%; height:400px; background:#000; position:relative; border:2px solid #2c3e50; display:flex; justify-content:center; align-items:center; color:white; font-weight:bold; font-size:24px; cursor:pointer; flex-shrink:0; }
.snake-canvas { width:100%; height:100%; display:block; background:#000; }

/* Responsive */
@media(max-width:1000px){.container{flex-direction:column;align-items:center;}}
</style>
</head>
<body>

<div class="navbar">
    <a href="#compound">Compound Interest</a>
    <a href="#mortgage">Mortgage</a>
    <a href="#savings">Savings Goal</a>
    <a href="#retirement">Retirement</a>
</div>

<h1>Finance Calculator Pack + Snake Game</h1>
<p>All inputs are empty by default. Click the Snake canvas to start the game.</p>

<div class="container">
<div class="calculators">
<!-- 1. Compound Interest -->
<section id="compound">
<h2>1. Compound Interest Calculator</h2>
<label>Initial Investment (€)<input type="number" id="ci_initial" placeholder="Enter initial investment"></label>
<label>Monthly Contribution (€)<input type="number" id="ci_monthly" placeholder="Enter monthly contribution"></label>
<label>Annual Return (%)<input type="number" id="ci_rate" placeholder="Enter annual return"></label>
<label>Years<input type="number" id="ci_years" placeholder="Enter number of years"></label>
<button onclick="calculateCompound()">Calculate</button>
<div class="result" id="ci_output"></div>
</section>

<!-- 2. Mortgage -->
<section id="mortgage">
<h2>2. Mortgage Loan Calculator</h2>
<label>Loan Amount (€)<input type="number" id="mortgage_amount" placeholder="Enter loan amount"></label>
<label>Annual Interest Rate (%)<input type="number" id="mortgage_rate" placeholder="Enter interest rate"></label>
<label>Loan Term (Years)<input type="number" id="mortgage_years" placeholder="Enter loan term in years"></label>
<button onclick="calculateMortgage()">Calculate</button>
<div class="result" id="mortgage_output"></div>
</section>

<!-- 3. Savings Goal -->
<section id="savings">
<h2>3. Savings Goal Calculator</h2>
<label>Target Amount (€)<input type="number" id="goal_amount" placeholder="Enter target amount"></label>
<label>Current Savings (€)<input type="number" id="goal_current" placeholder="Enter current savings"></label>
<label>Annual Interest Rate (%)<input type="number" id="goal_rate" placeholder="Enter annual return"></label>
<label>Years to Save<input type="number" id="goal_years" placeholder="Enter years to save"></label>
<button onclick="calculateGoal()">Calculate</button>
<div class="result" id="goal_output"></div>
</section>

<!-- 4. Retirement Withdrawals -->
<section id="retirement">
<h2>4. Retirement Withdrawals Calculator (Safe Withdrawals)</h2>
<label>Current Savings (€)<input type="number" id="ret_current" placeholder="Enter current savings"></label>
<label>Monthly Contribution (€)<input type="number" id="ret_monthly" placeholder="Enter monthly contribution"></label>
<label>Annual Return Rate (%)<input type="number" id="ret_rate" placeholder="Enter annual return rate"></label>
<label>Years to Save<input type="number" id="ret_years" placeholder="Enter years to save"></label>
<label>Tax Rate on Withdrawals (%)<input type="number" id="ret_tax" placeholder="Enter tax rate"></label>
<div class="result" id="ret_output"></div>
</section>
</div>

<!-- Snake Game -->
<div class="snake-container" id="snake-container">
<canvas id="snake" width="400" height="400"></canvas>
<div id="game-over" style="position:absolute;display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:white;font-size:24px;">GAME OVER!<br>Click to restart</div>
</div>
</div>

<script>
// ---- Compound Interest ----
function calculateCompound(){
    let initial = +document.getElementById("ci_initial").value;
    let monthly = +document.getElementById("ci_monthly").value;
    let rate = +document.getElementById("ci_rate").value/100/12;
    let years = +document.getElementById("ci_years").value;
    if(!initial || !rate || !years) {document.getElementById("ci_output").innerHTML="Please fill all fields."; return;}
    let total = initial;
    for(let i=0;i<years*12;i++) total=total*(1+rate)+monthly;
    let contrib=initial+monthly*years*12;
    document.getElementById("ci_output").innerHTML="Final Value: €"+total.toFixed(0)+"<br>Total Contributions: €"+contrib.toFixed(0)+"<br>Total Gain: €"+(total-contrib).toFixed(0);
}

// ---- Mortgage ----
function calculateMortgage(){
    let p=+document.getElementById("mortgage_amount").value;
    let r=+document.getElementById("mortgage_rate").value/100/12;
    let n=+document.getElementById("mortgage_years").value*12;
    if(!p || !r || !n){document.getElementById("mortgage_output").innerHTML="Please fill all fields."; return;}
    let pay=p*r/(1-Math.pow(1+r,-n));
    document.getElementById("mortgage_output").innerHTML="Monthly: €"+pay.toFixed(2)+"<br>Total Paid: €"+(pay*n).toFixed(2)+"<br>Interest: €"+((pay*n)-p).toFixed(2);
}

// ---- Savings Goal ----
function calculateGoal(){
    let target=+document.getElementById("goal_amount").value;
    let curr=+document.getElementById("goal_current").value||0;
    let r=+document.getElementById("goal_rate").value/100/12;
    let n=+document.getElementById("goal_years").value*12;
    if(!target || !r || !n){document.getElementById("goal_output").innerHTML="Please fill all fields."; return;}
    let pmnt=(target-curr*Math.pow(1+r,n))*(r/(Math.pow(1+r,n)-1));
    document.getElementById("goal_output").innerHTML="Required Monthly Savings: €"+pmnt.toFixed(0);
}

// ---- Retirement Withdrawals ----
function updateRetirement(){
    let curr=+document.getElementById("ret_current").value||0;
    let monthly=+document.getElementById("ret_monthly").value||0;
    let rate=+document.getElementById("ret_rate").value/100;
    let years=+document.getElementById("ret_years").value;
    let tax=+document.getElementById("ret_tax").value/100;
    if(!rate||!years||tax===undefined){document.getElementById("ret_output").innerHTML="Please fill all fields."; return;}
    let months=years*12;
    let mRate=rate/12;
    let future=curr;
    for(let i=0;i<months;i++) future=future*(1+mRate)+monthly;
    let annualReturn=future*rate*(1-tax);
    let monthlyWithdrawable=annualReturn/12;
    document.getElementById("ret_output").innerHTML=
        `Future Capital at Retirement: €${future.toFixed(0)}<br>`+
        `Maximum Safe Monthly Withdrawal (without reducing capital): €${monthlyWithdrawable.toFixed(2)}`;
}
["ret_current","ret_monthly","ret_rate","ret_years","ret_tax"].forEach(id=>{
    document.getElementById(id).addEventListener("input", updateRetirement);
});

// ---- Snake Game ----
const snakeCanvas=document.getElementById("snake");
const ctx=snakeCanvas.getContext("2d");
const scale=20;
const rows=snakeCanvas.height/scale;
const cols=snakeCanvas.width/scale;
let snake, coin, direction, gameInterval, gameOver=false;

function initSnake(){
    snake=[{x:5*scale,y:5*scale}];
    direction={x:scale,y:0};
    placeCoin();
    gameOver=false;
    document.getElementById("game-over").style.display="none";
    if(gameInterval) clearInterval(gameInterval);
    gameInterval=setInterval(gameLoop,150);
}

function placeCoin(){coin={x:Math.floor(Math.random()*cols)*scale, y:Math.floor(Math.random()*rows)*scale};}

function gameLoop(){
    if(gameOver) return;
    const head={x:snake[0].x+direction.x, y:snake[0].y+direction.y};
    if(head.x<0||head.x>=snakeCanvas.width||head.y<0||head.y>=snakeCanvas.height) return endGame();
    for(let part of snake) if(part.x===head.x && part.y===head.y) return endGame();
    snake.unshift(head);
    if(head.x===coin.x && head.y===coin.y){ placeCoin(); } else { snake.pop(); }
    drawSnake();
}

function drawSnake(){
    ctx.fillStyle="#000"; ctx.fillRect(0,0,snakeCanvas.width,snakeCanvas.height);
    ctx.fillStyle="gold"; ctx.fillRect(coin.x,coin.y,scale,scale);
    ctx.fillStyle="lime"; snake.forEach(p=>ctx.fillRect(p.x,p.y,scale,scale));
}

function endGame(){gameOver=true; document.getElementById("game-over").style.display="flex"; }

document.addEventListener("keydown",(e)=>{
    if(gameOver) return;
    switch(e.key){
        case"ArrowUp": if(direction.y===0) direction={x:0,y:-scale}; break;
        case"ArrowDown": if(direction.y===0) direction={x:0,y:scale}; break;
        case"ArrowLeft": if(direction.x===0) direction={x:-scale,y:0}; break;
        case"ArrowRight": if(direction.x===0) direction={x:scale,y:0}; break;
    }
});

// Only start Snake when canvas is clicked
document.getElementById("snake-container").addEventListener("click",()=>{
    initSnake();
});
</script>
</body>
</html>
